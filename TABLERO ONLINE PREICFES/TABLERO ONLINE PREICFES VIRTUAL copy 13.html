<!DOCTYPE html>
<html>
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>Pizarra en L√≠nea con Diapositivas de Im√°genes</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <!-- Agrega Font Awesome para los √≠conos -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css">

<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/interact.js/1.9.20/interactjs/interact.min.css">

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/interact.js/1.9.20/interactjs/interact.min.js"></script>
<script src="script.js"></script>

<!-- Agrega esto en el encabezado de tu documento HTML -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>


<style>


/* INICIO DE FONDO DE PANTALLA*/


body {
            margin: 0;
            padding: 0;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            font-family: Arial, sans-serif;
            color: #333;
            background-image: url('https://mxcity.mx/wp-content/uploads/2022/06/gran-bosque-de-agua.jpeg'); /* Ruta de la imagen de fondo */
       
        }


body {
        background-image: url('https://cdn.pixabay.com/photo/2018/04/06/00/25/trees-3294681_640.jpg'); /* Ruta de la imagen de fondo */
        background-size: cover; /* Ajusta el tama√±o de la imagen para cubrir todo el fondo */
        background-repeat: no-repeat; /* Evita la repetici√≥n de la imagen */
        background-attachment: fixed; /* Fija la imagen en su lugar mientras se desplaza la p√°gina */
    }
    

        
        .contenido {
            padding: 20px;
            text-align: center;
        }

        #fileInput {
            display: none;
        }
          
/* FINAL DE FONDO DE PANTALLA*/


/* Estilo del bot√≥n "Mostrar Panel" */
#showPanelButton {
    background-color: #3498db;
    color: #fff;
    border: none;
    padding: 10px;
    margin: 10px;
    cursor: pointer;
    font-size: 20px;
    border-radius: 5px;
}

/* Estilo del panel de control */
#controlPanel {
    background-color: #efefef;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    position: absolute;
    top: 50px; /* Ajusta la posici√≥n vertical seg√∫n tu dise√±o */
    right: 10px; /* Ajusta la posici√≥n horizontal seg√∫n tu dise√±o */
    padding: 10px;
    display: none; /* Inicialmente oculto */
}
/* Estilo del bot√≥n "Anterior" */
#previousButton {
    background-color: #117e61;
}

/* Estilo del bot√≥n "Siguiente" */
#nextButton {
    background-color: #117e61;

}

/* Estilo del bot√≥n "Limpiar" */
#clearButton {
    background-color: #ac3333;
}

/* Estilo del bot√≥n "Guardar" */
#saveButton {
    background-color: #9e07cd;
}

/* Estilo del bot√≥n "Deshacer" */
#undoButton {
    background-color: #ab4444;
}

/* Estilo del bot√≥n "Rehacer" */
#redoButton {
    background-color: #ab4444;
}



/* Estilo del bot√≥n "Borrar Trazos" */
#clearDrawingButton {
    background-color: #bc9a03; /* Color de fondo del bot√≥n (puedes cambiarlo) */
    margin-bottom: 15px;
    margin-top: 12px;

}*


/* Estilo del bot√≥n de carga de imagen */
#imageInput {
    background-color: #117e61;
    color: #fff;
    border: none;
    padding: 10px 20px;
    margin: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
    font-size: 12px;
    border-radius: 5px;
    display: inline-block;
    margin-top: 10px; /* Ajusta el margen superior seg√∫n tus necesidades */
}


/* Estilo del bot√≥n de carga de imagen en hover */
#imageInput:hover {
    background-color: #2980b9;
}

/* Estilo de los botones ovalados */
button {
    background-color: #3498db;
    color: #fff;
    border: none;
    padding: 10px 20px;
    margin: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
    font-size: 16px;
    border-radius: 25px; /* Valor alto para hacer que los botones sean ovalados */
}


    #timerDisplay {
    position: fixed;
    top: 16%;
    left: 50%;
    transform: translate(100%, -180%);
    text-align: left;
    font-size: 25px; /* Ajusta el tama√±o del texto seg√∫n tus preferencias */
}






/* Estilo del texto dentro del contenedor */
#textoContenedor p {
    font-size: 28px;
    color: #333;
    font-weight: bold;
    /* No es necesario centrar verticalmente ya que el contenedor se ajusta autom√°ticamente */
}


    #textoContenedor {
        background-color: #ffffff;
        padding: 10px;
        margin-top: 10px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        text-align: center;
        /* Centra el texto horizontalmente */
        position: relative; /* Permite posicionar elementos hijos relativos a este contenedor */
    }

    #logoContainer {
        position: absolute;
        top: 0; /* Ajusta la posici√≥n vertical seg√∫n tu dise√±o */
        right: 0; /* Coloca el logotipo en el lado derecho del contenedor */
    }

    #logoContainer img {
        width: 300px; /* Ajusta el ancho del logotipo seg√∫n tus necesidades */
        height: auto; /* Mantiene la proporci√≥n original */
    }



    #showPanelButton {
    position: absolute; /* Aseg√∫rate de que el bot√≥n tenga una posici√≥n absoluta o fija */
    top: 10px; /* Ajusta la posici√≥n vertical seg√∫n tu dise√±o */
    right: 10px; /* Ajusta la posici√≥n horizontal seg√∫n tu dise√±o */
    /* Resto de tus estilos... */
}

#controlPanel {
    position: absolute;
    top: 50px; /* Ajusta la posici√≥n vertical seg√∫n tu dise√±o */
    right: 10px; /* Ajusta la posici√≥n horizontal seg√∫n tu dise√±o */
    display: none;
    /* Resto de tus estilos... */
}



/* Estilo del selector de color */
#colorPicker {
    width: 30px; /* Cambia el valor del ancho seg√∫n tus preferencias */
    margin-bottom: 25px; /* Ajusta el margen inferior seg√∫n tus necesidades */
    margin-top: 15px;
}



/* Estilo para el rango de tama√±o del pincel */
#brushSizeInput {
    width: 130px; /* Modifica el ancho a tu preferencia */
    margin-bottom: 40px; /* A√±ade un margen en la parte inferior para separarlo de otros elementos */
    margin-top: 0px;
}



 
/* Estilo del bot√≥n "Elegir un Nombre al Azar" */
#pickRandomStudentButton {
    background-color: #3498db;
    color: #fff;
    border: none;
    padding: 10px 20px;
    margin: 10px;
    cursor: pointer;
    font-size: 16px;
    border-radius: 50px;
    font-weight: bold; /* Texto en negrita */
}

/* Estilo del resultado del nombre al azar */
#randomStudentResult {
    font-size: 35px;
    color: #333;
    margin: 10px;
    text-align: center;
    font-weight: bold; /* Texto en negrita */
}

/* Estilo del contenedor ESTUDIANTE AL AZAR */
#studentContainer {
    background-color: #f2f2f2;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius: 10px;
    margin: 20px;
}

/* Estilo del p√°rrafo dentro del contenedor*/
#studentContainer p {
    font-weight: bold; /* Texto en negrita */
    margin-bottom: 10px;
    color: #ffffff; /* Cambia el color  que desees */
}

/* Estilo del textarea dentro del contenedor */
#studentNamesInput {
    width: 10%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    margin-bottom: 10px;
}

/* Estilo de los botones dentro del contenedor */
#studentContainer button {
    background-color: #3498db;
    color: #fff;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    font-size: 16px;
    border-radius: 5px;
    margin-right: 10px;
}

/* Estilo del bot√≥n "Elegir un Nombre al Azar" */
#pickRandomStudentButton {
    background-color: #117e61; /* Cambia el color si deseas */
}

.upload-text {
    color: #fff; /* Cambia el color del texto a blanco */
}




/* CARGAR IM√ÅGENES */

.upload-label {
    color: #02f6fa; /* Cambia el color del texto */
    margin-top: 13px; /* Ajusta el margen superior seg√∫n tus necesidades */
}

.upload-label i {
    font-size: 24px; /* Ajusta el tama√±o seg√∫n tus preferencias */
    margin-left: 16px; /* Agrega un margen a la derecha del primer √≠cono para separarlos */
}


  /* Estilo del √≠cono al pasar el mouse sobre √©l (hover) */
  .upload-label:hover i {
        color: #f9e104; /* Cambia el color al pasar el mouse sobre el √≠cono */
    }
/* .................................................... */

    
/* CRON√ìMETRO DEL PANEL DE CONTROL " */
#startTimerButton {
    background-color: #016fb9;
}

/* Estilo del bot√≥n "Reiniciar Cron√≥metro" */
#resetTimerButton {
    background-color: #9d3501;
}


/* Estilos para el campo de entrada de tiempo */
#timerInput {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 16px;
    width: 150px; /* Ajusta el ancho seg√∫n tus preferencias */
    margin-right: 10px;
}


#startTimer {
    background: none;
    border: none;
    font-size: 24px;
    margin-right: 10px; /* Espacio entre el bot√≥n y otros elementos */
    cursor: pointer; /* Cambia el cursor al pasar por encima */
    color: #02f6fa; /* Color del icono */
}

#startTimer:hover {
    color: #f9e104; /* Cambia el color del icono al pasar el cursor por encima */
}


#pauseTimer, #resetTimer {
    background: none;
    border: none;
    font-size: 24px;
    margin-right: 10px; /* Espacio entre los botones y otros elementos */
    cursor: pointer; /* Cambia el cursor al pasar por encima */
    color: #02f6fa; /* Color del icono */
}

#pauseTimer:hover, #resetTimer:hover {
    color: #f9e104; /* Cambia el color del icono al pasar el cursor por encima */
}


#timer {
    font-size: 24px; /* Tama√±o de fuente del temporizador */
    color: #333; /* Color del texto */
    background-color: transparent; /* Fondo transparente */
    padding: 10px; /* Espaciado interno para el contenido */
    border: 1px solid #ccc; /* Borde alrededor del temporizador */
    border-radius: 5px; /* Borde redondeado */
    text-align: center; /* Alineaci√≥n del texto en el centro */
    width: 180px; /* Ancho del temporizador (ajusta seg√∫n tus necesidades) */
    text-align: center; /* Para centrar horizontalmente */
    margin: 0 auto; /* Margen autom√°tico a la izquierda y derecha para centrar */
    position: absolute; /* Posici√≥n absoluta para permitir el arrastre */
    cursor: move; /* Cursor de agarre para indicar que se puede arrastrar */
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    display: none; /* Oculta el temporizador por defecto */

}

/* ::::::::::::::::::::::::::::::::::::::::::::::::::::::::: */



/* TEXTO DISPLAY TIMER*/
#timer {
    font-size: 22px; /* Tama√±o de fuente */
    font-weight: bold; /* Texto en negrita */
    color: #ffffff; /* Color del texto */
}

#minutes,
#seconds {
    background-color: #03e2fb; /* Color de fondo de los d√≠gitos */
    color: #000000; /* Color del texto de los d√≠gitos */
    padding: 5px 10px; /* Espaciado alrededor de los d√≠gitos */
    border-radius: 12px; /* Bordes redondeados de los d√≠gitos */
    font-weight: bold; /* Texto en negrita */
    font-size: 28px;
}

#minutes, #seconds {
    margin: 0 5px; /* Agrega un espacio de 5px a la izquierda y a la derecha de los d√≠gitos */
}

#timerDisplay {
    position: fixed;
    top: 16%;
    left: 50%;
    transform: translate(100%, -180%);
    text-align: left;
    font-size: 25px; /* Ajusta el tama√±o del texto seg√∫n tus preferencias */
}

#timer span {
    font-weight: bold;
    margin: 0 5px;
}

#timer.time-up {
    background-color: #ff6b6b; /* Cambia el color de fondo cuando el tiempo se agota */
    color: white;
}


/* TIMER*/

#timerInput {
    font-size: 20px;
    cursor: pointer; /* Cambia el cursor al pasar por encima */
    color: #02f6fa; /* Color del √≠cono */
    background-color: #000; /* Color de fondo del campo de entrada */
    padding: 5px 10px; /* Espaciado interno para el contenido */
    border: 1px solid #ccc; /* Borde alrededor del campo de entrada */
    border-radius: 5px; /* Borde redondeado */
    margin-right: 16px; /* Espacio entre el campo de entrada y otros elementos */
    width: 50px; /* Ancho del campo de entrada (ajusta seg√∫n tus necesidades) */
    text-align: center; /* Alineaci√≥n del texto en el centro */
    font-weight: bold; /* Agrega negrita al texto */
    width: 65px; /* Establece el ancho del placeholder */
    height: 25px; /* Establece la altura del placeholder */
    margin-top: 6px;
}

#timerInput::after {
    content: " (s)"; /* Agrega "(s)" despu√©s del contenido del campo de entrada */
}

#timerInput:hover {
    color: #fffb00; /* Cambia el color del √≠cono al pasar el cursor por encima */
    background-color: #333; /* Cambia el color de fondo al pasar el cursor por encima */
}

/* PLACE HOLDER INTERIOR */
#timerInput {
    font-size: 24px;
    cursor: pointer; /* Cambia el cursor al pasar por encima */
    color: #fffb00; /* Color del √≠cono */
    margin-right: 10px; /* Espacio entre el campo de entrada y otros elementos */
    margin-left: 850px;
}

#timerInput:hover {
    color: #02f6fa; /* Cambia el color del √≠cono al pasar el cursor por encima */
}





#transitionDuration {
        font-size:20px;
        cursor: pointer;
        color: #ffffff;
        background-color: #000000;
        padding: 5px 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        margin-right: 10px;
        width: 50px;
        text-align: center;
        font-weight: bold; /* Agrega negrita al texto */
    }


/* CONTENEDOR MEN√ö - L√ÅPIZ*/
.draggable-container {
    position: absolute;
    top: 35px; /* Ajusta seg√∫n sea necesario */
    left: 40px; /* Ajusta seg√∫n sea necesario */
    cursor: move;
}

.menu-icon {
    background-color: #02f6fa;
    border: 1px solid #ccc;
    border-radius: 50%;
    padding: 10px;
    cursor: pointer;
}

.menu-content {
    position: absolute;
    background-color: rgba(0, 0, 0, 0); /* Ajusta el √∫ltimo valor para cambiar la opacidad */
    color: #ffffff; /* Cambia este valor al color deseado para el texto */
    border: 0px solid #ccc;
    padding: 10px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0);
    
    
}





/* MEN√ö L√ÅPIZ HORIZONTAL */

/* Estilo del bot√≥n de pantalla completa y men√∫-l√°piz */
.menu-icon {
    background-color: #3498db; 
    color: #fff;
    border: 1px solid #ccc;
    padding: 10px;
    cursor: pointer;
    font-size: 13px;
    border-radius: 5px;
    margin-right: 10px;
}



.menu-icon:hover {
    background-color: #035c97;
}





.menu-content {
    position: absolute;
    background-color: rgba(0, 0, 0, 0);
    color: #ffffff;
    border: 0px solid #ccc;
    padding: 10px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0);
    display: none;
}

/* Hace que el contenido del men√∫-l√°piz sea horizontal */
.menu-content div {
    display: flex;
}

/* Asegura que los botones dentro del men√∫-l√°piz tengan un estilo similar */
.menu-content button {
    background-color: #3498db;
    color: #fff;
    border: none;
    padding: 5px;
    cursor: pointer;
    font-size: 16px;
    border-radius: 25px;
    margin-right: 10px;
}

.menu-content button:hover {
    background-color: #2980b9;
}




/* Estilo para el rango de tama√±o del pincel */
#brushSizeInput {
    width: 100px; /* Modifica el ancho a tu preferencia */
    margin-bottom: 0px; /* A√±ade un margen en la parte inferior para separarlo de otros elementos */
}



/* SELECTOR DE COLOR FONDO */
#colorSelector {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 1px solid #ccc;
    cursor: pointer;
    position: relative;
    z-index: 2; /* Asegura que est√© encima de otros elementos */
    display: inline-block; /* Asegura que ocupe solo el espacio necesario */
}



.file-upload-container {
        display: flex;
        align-items: center;
    }

    #coloresFondoPredefinidos {
        display: flex;
        flex-direction: row;
        align-items: center;
        margin-right: 10px; /* Espacio a la derecha de los colores predefinidos */
    }

    .colorSquare {
        width: 30px;
        height: 30px;
        margin-right: 5px;
        cursor: pointer;
    }

    #colorInput {
        margin-right: 5px; /* Mismo espacio que los colores predefinidos */
    }

    #clearButton {
        margin-right: 0px; /* Mismo espacio que los colores predefinidos */
    }



/* Estilo adicional para la barra de herramientas en pantalla completa */
#toolsMenu {
    position: absolute;
    background-color: transparent;
    padding: 10px;
    border-radius: 5px;
    display: none;
    z-index: 999;
  }

  #toolsMenu button {
    margin-right: 5px;
  }

  /* Estilo adicional para la barra de herramientas en pantalla completa */
  #toolsMenu.fullscreen {
    position: fixed;
    bottom: 10px;
    left: 10px;
  }


/* -- CONTENEDOR FLOTANTE PDF - PPTX Y FULL SCREEN */
  .file-upload-container {
    display: flex;
    margin-top: 28px; /* Ajusta el margen superior seg√∫n tus necesidades */
    text-align: left; /* Centra el contenido del contenedor horizontalmente */
    margin-left: 40px; /* Ajusta el margen izquierdo seg√∫n tus necesidades */
}


#eraseButton {
    background-color: transparent;; /* Color de fondo del bot√≥n (puedes cambiarlo) */
    color: #02f6fa; /* Color del texto del bot√≥n (puedes cambiarlo) */
    border: #000000;
    padding: 10px;
    cursor: pointer;
    font-size: 22px;
    border-radius: 50px; /* Valor alto para hacer que el bot√≥n sea redondo */
    margin-right: 0px; /* Ajusta el margen derecho seg√∫n tus necesidades */
}

#eraseButton:hover {
    background-color: #035c97; /* Cambia el color de fondo al pasar el mouse sobre el bot√≥n #035c97 */
}




/*CONTENEDOR BORRADOR*/
.container-borrador {
    position: fixed;
    bottom: 10px; /* Ajusta la distancia desde la parte inferior seg√∫n tus necesidades */
    right: 10px; /* Ajusta la distancia desde la derecha seg√∫n tus necesidades */
    background-color: transparent; /* Color de fondo del contenedor */
    border: 0px solid transparent; /* Borde del contenedor */
    border-radius: 5px; /* Bordes redondeados del contenedor */
    padding: 10px; /* Espaciado interno del contenedor */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2); /* Sombra del contenedor */
    z-index: 999; /* Ajusta la propiedad z-index para que est√© encima de otros elementos */
    
   
}






.upload-label i {
        /* Estilos para el √≠cono de carga */
        margin-left: 0px; /* Ajusta el margen a la izquierda seg√∫n tus necesidades */
    }



    #fullScreenButton {
    background-color: transparent;
    border: none;
    color: #02f6fa; /* Cambia este valor al color deseado para el √≠cono */
    font-size: 16px;
    cursor: pointer;
    margin-right: 10px; /* Ajusta el margen seg√∫n sea necesario */
    margin-left: 30px; /* Ajusta el margen a la izquierda seg√∫n tus necesidades */
}

#fullScreenButton:hover {
    color: #f9e104; /* Cambia este valor al color deseado cuando pasas el mouse sobre el bot√≥n */
}

#fullScreenButton i {
    font-size: 22px; /* Ajusta el tama√±o del √≠cono seg√∫n sea necesario */
    margin-left: 10px; /* Ajusta el margen a la izquierda seg√∫n tus necesidades */
}


/*  PDF */


#pdfViewer {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            border: 2px solid #333;
            min-width: 400px;
            min-height: 400px;
            overflow: hidden;
            z-index: 2;
        }

        #pdfFrame {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Estilo para el t√≠tulo de la ventana emergente */
        #pdfViewerTitle {
            cursor: grab;
            padding: 25px;
            background-color: #024479;
            color: white;
            user-select: none;
            position: relative;
        }

        /* Estilo para la esquina de ajuste */
        #resizeCorner {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #fd8700;
            bottom: 0;
            right: 0;
            cursor: nwse-resize;
        }


        /* Estilo del bot√≥n para abrir el input de subida de PDF */
        #pdfViewer button {
            background-color: #3498db;
            color: #fff;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #pdfViewer button:hover {
            background-color: #2980b9;
        }


/* FINAL PDF */



/* BOTONES DEL MEN√ö - L√ÅPIZ Y DE LA PARTE BAJA*/
#uploadButton, #prevButton, #resetButton, #pdfButton, #clearButton, #saveButton, #clearDrawingButton, #undoButton, #redoButton, #previousButton, #nextButton {
    background: none;
    border: none;
    font-size: 20px;
    margin-right: 10px; /* Espacio entre los botones y otros elementos */
    cursor: pointer; /* Cambia el cursor al pasar por encima */
    color: #02f6fa; /* Color del icono */
    margin-right: 0px;
}

#uploadButton:hover, #prevButton:hover, #resetButton:hover, #pdfButton:hover, #saveButton:hover, #clearDrawingButton:hover, #undoButton:hover, #redoButton:hover, #previousButton:hover, #nextButton:hover {
    color: #f9e104; /* Cambia el color del icono al pasar el cursor por encima */
}

#resetButton {
    background: none;
    border: none;
    font-size: 20px;
    margin-right: 10px; /* Espacio entre los botones y otros elementos */
    cursor: pointer; /* Cambia el cursor al pasar por encima */
    color: #2ff801; /* Color del icono */
    margin-right: 0px;
}

#resetButton:hover, #clearButton:hover {
    color: #ff0000; /* Cambia el color del icono al pasar el cursor por encima */
}

#clearButton:hover {
    color: #ffe600; /* Cambia el color del icono al pasar el cursor por encima */
}



/* ===========================================================
   üé≤ SECCI√ìN: ESTUDIANTE AL AZAR (POPUP MODERNO)
=========================================================== */

/* === √çcono del estudiante (bot√≥n de acceso al popup) === */
#toggleStudentWindow {
  position: fixed;
  top: 20px;
  left: 20px;
  background: transparent;
  border: none;
  cursor: pointer;
  z-index: 999;
  transition: transform 0.3s ease;
}

#toggleStudentWindow img {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: 2px solid #02f6fa;
  box-shadow: 0 0 10px rgba(2, 246, 250, 0.7);
  transition: all 0.3s ease;
}

#toggleStudentWindow:hover img {
  transform: scale(1.1);
  box-shadow: 0 0 20px rgba(249, 225, 4, 0.9);
}

/* === Ventana emergente === */
#studentPopup {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(255, 255, 255, 0.96);
  border-radius: 12px;
  box-shadow: 0 0 25px rgba(0, 0, 0, 0.5);
  width: 350px;
  min-height: 280px;
  z-index: 2000;
  overflow: hidden;
  animation: zoomIn 0.3s ease-out;
}

/* === Cabecera del popup === */
#studentPopupHeader {
  background: linear-gradient(90deg, #117e61, #02f6fa);
  color: white;
  font-weight: bold;
  padding: 12px;
  cursor: grab;
  font-size: 18px;
  text-align: center;
  position: relative;
}

#closeStudentPopup {
  position: absolute;
  right: 15px;
  top: 8px;
  background: none;
  border: none;
  color: #fff;
  font-size: 20px;
  cursor: pointer;
  transition: color 0.3s;
}

#closeStudentPopup:hover {
  color: #f9e104;
}

/* === Contenido interno === */
#studentPopupContent {
  padding: 20px;
  text-align: center;
}

#studentNamesInput {
  width: 90%;
  min-height: 80px;
  font-size: 14px;
  border-radius: 8px;
  border: 1px solid #888;
  background-color: rgba(255, 255, 255, 0.95);
  padding: 8px;
  resize: both; /* ‚úÖ Permite ampliar libremente */
  color: #000;
  overflow: auto;
  box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.2);
}

/* === Bot√≥n barajar === */
#pickRandomStudentButton {
  background: linear-gradient(90deg, #02f6fa, #117e61);
  color: #fff;
  border: none;
  padding: 10px 24px;
  margin-top: 14px;
  cursor: pointer;
  font-size: 16px;
  border-radius: 30px;
  font-weight: bold;
  transition: all 0.3s ease;
}

#pickRandomStudentButton:hover {
  background: linear-gradient(90deg, #117e61, #02f6fa);
  transform: scale(1.05);
}

/* === Resultado === */
#randomStudentResult {
  font-size: 20px;
  font-weight: bold;
  color: #117e61;
  margin-top: 20px;
  transition: transform 0.3s ease, color 0.3s ease;
}

/* === Animaci√≥n del popup === */
.show-popup {
  animation: zoomIn 0.3s ease-out;
}

@keyframes zoomIn {
  from {
    transform: scale(0.7) translate(-50%, -50%);
    opacity: 0;
  }
  to {
    transform: scale(1) translate(-50%, -50%);
    opacity: 1;
  }
}





/* .....................................*/



/*::::::::::::::::::::::::::::::::::::::::::::*/




/* ===========================================================
   üéì SECCI√ìN: ESTUDIANTE AL AZAR (INTEGRADO AL MEN√ö DE HERRAMIENTAS)
=========================================================== */

/* --- √çcono del estudiante dentro del men√∫ de herramientas --- */
#toggleStudentWindow {
  background: none;
  border: none;
  font-size: 20px;
  color: #02f6fa;
  cursor: pointer;
  transition: color 0.3s ease, transform 0.3s ease;
  margin-right: 10px;
}

#toggleStudentWindow:hover {
  color: #f9e104;
  transform: scale(1.15);
}

/* --- Ventana emergente principal --- */
#studentPopup {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(255, 255, 255, 0.97);
  border-radius: 12px;
  box-shadow: 0 0 25px rgba(0, 0, 0, 0.5);
  width: 360px;
  min-height: 280px;
  z-index: 2000;
  overflow: hidden;
  animation: zoomIn 0.3s ease-out;
}

/* --- Cabecera del popup --- */
#studentPopupHeader {
  background: linear-gradient(90deg, #117e61, #02f6fa);
  color: white;
  font-weight: bold;
  padding: 12px;
  cursor: grab;
  font-size: 18px;
  text-align: center;
  position: relative;
  letter-spacing: 0.5px;
}

#closeStudentPopup {
  position: absolute;
  right: 15px;
  top: 8px;
  background: none;
  border: none;
  color: #fff;
  font-size: 20px;
  cursor: pointer;
  transition: color 0.3s ease;
}

#closeStudentPopup:hover {
  color: #f9e104;
}

/* --- Cuerpo del popup --- */
.student-popup-body {
  padding: 20px;
  text-align: center;
}

#studentNamesInput {
  width: 90%;
  min-height: 80px;
  font-size: 14px;
  border-radius: 8px;
  border: 1px solid #888;
  background-color: rgba(255, 255, 255, 0.95);
  padding: 8px;
  resize: both; /* ‚úÖ Permite ajustar tama√±o manualmente */
  color: #000;
  overflow: auto;
  box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.2);
}

/* --- Bot√≥n barajar --- */
#pickRandomStudentButton {
  background: linear-gradient(90deg, #02f6fa, #117e61);
  color: #fff;
  border: none;
  padding: 10px 24px;
  margin-top: 14px;
  cursor: pointer;
  font-size: 16px;
  border-radius: 30px;
  font-weight: bold;
  transition: all 0.3s ease;
}

#pickRandomStudentButton:hover {
  background: linear-gradient(90deg, #117e61, #02f6fa);
  transform: scale(1.05);
}

/* --- Resultado del estudiante elegido --- */
#randomStudentResult {
  font-size: 20px;
  font-weight: bold;
  color: #117e61;
  margin-bottom: 16px;
  transition: transform 0.3s ease, color 0.3s ease;
}

/* --- Animaci√≥n de aparici√≥n del popup --- */
.show-popup {
  animation: zoomIn 0.3s ease-out;
}

@keyframes zoomIn {
  from {
    transform: scale(0.7) translate(-50%, -50%);
    opacity: 0;
  }
  to {
    transform: scale(1) translate(-50%, -50%);
    opacity: 1;
  }
}


/* ===========================================================
   üéì √çCONO DE ESTUDIANTE EN LA BARRA DE HERRAMIENTAS
=========================================================== */

#toggleStudentWindow {
  background: none;
  border: none;
  font-size: 22px;
  color: #02f6fa;
  cursor: pointer;
  transition: color 0.3s ease, transform 0.3s ease;
  margin-left: 5px;
}

#toggleStudentWindow:hover {
  color: #f9e104;
  transform: scale(1.15);
}




</style>



</head>



<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.5.0/fabric.min.js"></script>
<script src="script.js"></script>
<!-- Scripts JavaScript y Fabric.js -->



<body>

  <!-- DISPLAY CUENTA REGRESIVA -->
  <div id="timer" style="display: none;">
    Tiempo restante: <br><br><span id="minutes"></span>:<span id="seconds"></span>
  </div>

  <!-- CONTENEDOR FLOTANTE PDF - PPTX Y FULL SCREEN -->
  <div class="file-upload-container">
    <button id="fullScreenButton" onclick="toggleFullScreen()"><i class="fas fa-expand"></i></button>
  


</div>

  <!-- CONTENEDOR L√ÅPIZ Y BORRADOR -->
  <div class="container-borrador">
    <input type="color" id="colorPicker">
    <input type="file" id="imagenInput" style="display: none">
    <input type="range" id="brushSizeInput" min="1" max="10" value="1">
    <button id="eraseButton"><i class="fas fa-eraser"></i></button>
    <button id="undoButton"><i class="fas fa-undo"></i></button>
    <button id="redoButton"><i class="fas fa-redo"></i></button>
    <button id="clearButton"><i class="fas fa-trash"></i></button>
  </div>

  <!-- MEN√ö DE LA BARRA DE HERRAMIENTAS -->
  <div id="toolsContainer" class="draggable-container">
    <div id="pencilIcon" class="menu-icon" onclick="toggleMenu()">
      <i class="fas fa-sliders-h"></i>
    </div>

    <div id="toolsMenu" class="menu-content" style="display: none;">
      <div>
        <!-- BORRAR TODOS LOS TRAZOS -->
        <button id="clearDrawingButton"><i class="fas fa-trash"></i></button>

        <!-- CAPTURA DE PANTALLA -->
        <button id="saveButton"><i class="fas fa-camera"></i></button>

        <!-- NAVEGACI√ìN DE IM√ÅGENES -->
        <button id="previousButton"><i class="fas fa-chevron-left"></i></button>
        <button id="nextButton"><i class="fas fa-chevron-right"></i></button>

        <!-- SUBIR IM√ÅGENES -->
        <input type="file" id="imageInput" accept="image/*" multiple style="display: none;">
        <label for="imageInput" class="upload-label">
          <i class="fas fa-upload"></i>
        </label>

        <!-- NUEVO: √çCONO DE ESTUDIANTE -->
        <button id="toggleStudentWindow" title="Seleccionar estudiante">
          <i class="fas fa-user-graduate"></i>
        </button>

        <!-- TIMER -->
        <input type="text" id="timerInput" placeholder="Tiempo (segundos)">
        <button id="startTimer"><i class="fas fa-clock"></i></button>
        <button id="pauseTimer"><i class="fas fa-pause"></i></button>
        <button id="resetTimer"><i class="fas fa-sync"></i></button>
      </div>
    </div>
  
<!-- === VENTANA EMERGENTE ESTUDIANTE AL AZAR === -->
  <div id="studentPopup" class="student-popup">
    <div id="studentPopupHeader" class="student-popup-header">
      üéì Estudiante al azar
      <button id="closeStudentPopup" class="close-popup">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="student-popup-body">
      <p id="randomStudentResult">üéØ</p>
      <textarea id="studentNamesInput" placeholder="Escribe los nombres... (uno por l√≠nea)"></textarea>
      <button id="pickRandomStudentButton" title="Elegir al azar">
        <i class="fas fa-shuffle"></i>
      </button>
    </div>
  </div>
<!-- === FIN VENTANA EMERGENTE ESTUDIANTE AL AZAR === -->

  </div>

  

  <!-- TAMA√ëO DEL LIENZO -->
  <div id="lienzoContainer">
    <canvas id="whiteboard" width="1330" height="1200"></canvas>
  </div>

  <!-- CONTENEDOR FLOTANTE PARTE BAJA -->
  <div class="file-upload-container">
    <div>
      <div id="coloresFondoPredefinidos">
        <div class="colorSquare" style="background-color: #8d8d8d;" onclick="cambiarColorFondo('#8d8d8d')"></div>
        <div class="colorSquare" style="background-color: #3c573e;" onclick="cambiarColorFondo('#3c573e')"></div>
        <div class="colorSquare" style="background-color: #107c8a;" onclick="cambiarColorFondo('#107c8a')"></div>
        <div class="colorSquare" style="background-color: #635400;" onclick="cambiarColorFondo('#635400')"></div>
        <div class="colorSquare" style="background-color: #000000;" onclick="cambiarColorFondo('#000000')"></div>
        <input type="color" id="colorInput" onchange="cambiarColorFondo(this.value)">
      </div>
    </div>

    <button id="clearButton" onclick="limpiarColorFondo()">
      <i class="fas fa-trash-alt"></i> Tablero
    </button>

    <input type="file" id="fileInput" accept="image/*" multiple onchange="cargarImagenesDeFondo(event)">
    <button id="uploadButton" onclick="document.getElementById('fileInput').click()">
      <i class="fas fa-cloud-upload-alt"></i>
    </button>
    <button id="prevButton" onclick="navegarAnterior()"><i class="fas fa-arrow-left"></i></button>
    <button id="nextButton" onclick="navegarSiguiente()"><i class="fas fa-arrow-right"></i></button>
    <button id="resetButton" onclick="resetearFondo()"><i class="fas fa-sync"></i></button>

    <!-- PDF -->
    <input type="file" id="pdfInput" accept=".pdf" style="display: none;">
    <button onclick="abrirSubidaPDF()"><i class="fas fa-file-pdf"></i></button>

    <div id="pdfViewer">
      <div id="pdfViewerTitle">Arrastra para ajustar</div>
      <button onclick="cerrarPDF()"><i class="fas fa-times"></i> Cerrar</button>
      <iframe id="pdfFrame"></iframe>
      <div id="resizeCorner"></div>
    </div>
  </div>

  <!-- MEN√ö - PANEL DE CONTROL -->
  <button id="showPanelButton">‚ò∞</button>

  <div id="controlPanel">
    <input type="number" id="timerInput" placeholder="Tiempo (s)">
    <button id="startTimerButton"><i class="fas fa-clock"></i></button>
    <button id="resetTimerButton"><i class="fas fa-sync"></i></button>

    <div class="controls">
      <strong><div id="timerDisplay" style="color: rgb(4, 73, 129);">
        Tiempo restante: <span id="timerValue">0</span> segundos
      </div></strong>

      <audio id="timerSound">
        <source src="sound.mp3" type="audio/mpeg">
        Tu navegador no soporta el elemento de audio.
      </audio>
    </div>

    <div id="textoContenedor">
      <p>PROGRAMA TRUEQUE AMBIENTAL LOS TUTORES</p>
      <div id="logoContainer">
        <img src="https://www.fedusocial.org/LOGO%20PARTNERS%20SURVEY.png" alt="Logotipo">
      </div>
    </div>
  </div>

  <script src="script.js"></script>

</body>
``



<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>


<!-- ::::::::::::::::::::::::::::::::: -->



<!-- ::::::::::::::::::::::::::::::::::::::::::: -->






<script>
/* ===========================================================
   üé® SECCI√ìN 1: COLOR DE FONDO Y ESTILO DEL LIENZO
=========================================================== */
function mostrarSelectorColor() {
    const colorSelector = document.getElementById('colorSelector');
    const colorInput = document.getElementById('colorInput');
    const rect = colorSelector.getBoundingClientRect();
    const right = rect.right + window.scrollX + 10;
    const top = rect.top + window.scrollY;
    colorInput.style.left = `${right}px`;
    colorInput.style.top = `${top}px`;
    colorInput.click();
}

function cambiarColorFondo(color) {
    document.getElementById('lienzoContainer').style.backgroundColor = color;
}

function limpiarColorFondo() {
    console.log("Limpiar color de fondo llamado");
    const lienzo = document.getElementById("lienzoContainer");
    lienzo.style.backgroundColor = "transparent";
    lienzo.style.backgroundImage = "url('URL_DE_TU_IMAGEN')";
    document.getElementById("colorInput").value = "";
}

/* ===========================================================
   ‚úèÔ∏è SECCI√ìN 2: CONTENEDORES, DRAGGABLES Y MEN√öS
=========================================================== */
// √çcono del l√°piz
$(function () { $(".draggable-container").draggable(); });
function toggleMenu() { $("#toolsMenu").toggle(); }
$(document).ready(() => { $(".file-upload-container").draggable(); });

/* ===========================================================
   ‚öôÔ∏è SECCI√ìN 3: PANEL DE CONTROL PRINCIPAL
=========================================================== */
const showPanelButton = document.getElementById('showPanelButton');
const controlPanel = document.getElementById('controlPanel');
showPanelButton.addEventListener('click', () => {
    controlPanel.style.display = controlPanel.style.display === 'none' ? 'block' : 'none';
});

/* ===========================================================
   üñåÔ∏è SECCI√ìN 4: CONFIGURACI√ìN DE LIENZO Y VARIABLES GLOBALES
=========================================================== */
const canvas = document.getElementById('whiteboard');
const ctx = canvas.getContext('2d');
canvas.width = 1400;
canvas.height = 630;

const imageInput = document.getElementById('imageInput');
const previousButton = document.getElementById('previousButton');
const nextButton = document.getElementById('nextButton');
const clearButton = document.getElementById('clearButton');
const saveButton = document.getElementById('saveButton');
const undoButton = document.getElementById('undoButton');
const redoButton = document.getElementById('redoButton');

let imageLoaded = false;
let isDrawing = false;
let lastX = 0, lastY = 0;
let brushColor = '#ffffff';
let brushSize = 1;
let drawingHistory = [];
let historyIndex = -1;
let currentImageIndex = -1;
let images = [];
let currentImage = new Image();
let timerInterval, remainingTime = 0, soundPlayed = false;
let undoHistory = [], redoHistory = [];

/* ===========================================================
   üíæ SECCI√ìN 5: GUARDAR, DESHACER Y REHACER
=========================================================== */
saveButton.addEventListener('click', saveDrawing);
function saveDrawing() {
    console.log("Guardando el dibujo");
    const dataURL = canvas.toDataURL('image/png');
    const a = document.createElement('a');
    a.href = dataURL;
    a.download = 'drawing.png';
    a.click();
}

const historialDeshacer = [], historialRehacer = [];
undoButton.addEventListener('click', () => {
    if (historialDeshacer.length > 0) {
        const ultimo = historialDeshacer.pop();
        historialRehacer.push(ctx.getImageData(0, 0, canvas.width, canvas.height));
        ctx.putImageData(ultimo, 0, 0);
    }
});
redoButton.addEventListener('click', () => {
    if (historialRehacer.length > 0) {
        const siguiente = historialRehacer.pop();
        historialDeshacer.push(ctx.getImageData(0, 0, canvas.width, canvas.height));
        ctx.putImageData(siguiente, 0, 0);
    }
});
function guardarEstadoDeshacer() {
    historialDeshacer.push(ctx.getImageData(0, 0, canvas.width, canvas.height));
    historialRehacer.length = 0;
}
canvas.addEventListener('mousemove', () => { if (isDrawing) guardarEstadoDeshacer(); });

/* ===========================================================
   üñºÔ∏è SECCI√ìN 6: CARGA DE IM√ÅGENES
=========================================================== */
imageInput.addEventListener('change', (e) => {
    images = Array.from(e.target.files);
    currentImageIndex = 0;
    loadNewImage(images[currentImageIndex]);
});

function loadNewImage(file) {
    if (!file) return;
    const reader = new FileReader();
    reader.onload = function (event) {
        currentImage.src = event.target.result;
        currentImage.onload = function () {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.drawImage(currentImage, 0, 0, canvas.width, canvas.height);
            imageLoaded = true;
        };
    };
    reader.readAsDataURL(file);
}

/* ===========================================================
   üßπ SECCI√ìN 7: LIMPIEZA Y NAVEGACI√ìN ENTRE IM√ÅGENES
=========================================================== */
clearButton.addEventListener('click', () => {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawingHistory = []; historyIndex = -1;
    imageLoaded = false; imageInput.value = '';
    images = []; currentImageIndex = -1;
});

previousButton.addEventListener('click', () => {
    if (currentImageIndex > 0) loadNewImage(images[--currentImageIndex]);
});
nextButton.addEventListener('click', () => {
    if (currentImageIndex < images.length - 1) loadNewImage(images[++currentImageIndex]);
});

/* ===========================================================
   üß† SECCI√ìN 8: DIBUJO CON L√ÅPIZ Y BORRADOR
=========================================================== */
function drawLine(e) {
    if (!isDrawing) return;
    ctx.globalCompositeOperation = borradorActivo ? 'destination-out' : 'source-over';
    undoHistory.push(ctx.getImageData(0, 0, canvas.width, canvas.height));
    ctx.globalCompositeOperation = 'source-over';
}
function stopDrawing() {
    isDrawing = false;
    canvas.removeEventListener('mousemove', drawLine);
}

/* Eventos de dibujo */
canvas.addEventListener('mousedown', (e) => {
    isDrawing = true;
    [lastX, lastY] = [e.clientX - canvas.getBoundingClientRect().left, e.clientY - canvas.getBoundingClientRect().top];
    ctx.beginPath(); ctx.moveTo(lastX, lastY);
});
canvas.addEventListener('mousemove', (e) => {
    if (isDrawing) {
        const x = e.clientX - canvas.getBoundingClientRect().left;
        const y = e.clientY - canvas.getBoundingClientRect().top;
        ctx.strokeStyle = brushColor;
        ctx.lineWidth = brushSize;
        ctx.lineTo(x, y);
        ctx.stroke();
        [lastX, lastY] = [x, y];
    }
});
canvas.addEventListener('mouseup', () => {
    isDrawing = false; ctx.closePath();
    drawingHistory.push(ctx.getImageData(0, 0, canvas.width, canvas.height));
    historyIndex = drawingHistory.length - 1;
});
canvas.addEventListener('mouseout', () => { isDrawing = false; });

/* ===========================================================
   ‚úèÔ∏è SECCI√ìN 9: BORRAR DIBUJOS
=========================================================== */
const clearDrawingButton = document.getElementById('clearDrawingButton');
clearDrawingButton.addEventListener('click', clearDrawing);
function clearDrawing() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    if (imageLoaded) ctx.drawImage(currentImage, 0, 0, canvas.width, canvas.height);
    drawingHistory = []; historyIndex = -1;
}


/* ===========================================================
   üé≤ SECCI√ìN 10: ESTUDIANTE AL AZAR (CON POPUP + ANIMACI√ìN + MEMORIA)
=========================================================== */

const toggleStudentWindow = document.getElementById('toggleStudentWindow');
const studentPopup = document.getElementById('studentPopup');
const closeStudentPopup = document.getElementById('closeStudentPopup');
const studentNamesInput = document.getElementById('studentNamesInput');
const pickRandomStudentButton = document.getElementById('pickRandomStudentButton');
const randomStudentResult = document.getElementById('randomStudentResult');
const studentPopupHeader = document.getElementById('studentPopupHeader');

// === üé¨ Animaci√≥n + apertura del popup ===
toggleStudentWindow.addEventListener('click', () => {
  if (studentPopup.style.display === 'none' || studentPopup.style.display === '') {
    studentPopup.style.display = 'block';
    studentPopup.classList.add('show-popup');
  } else {
    studentPopup.style.display = 'none';
  }
});

// === üîí Cerrar popup ===
closeStudentPopup.addEventListener('click', () => {
  studentPopup.style.display = 'none';
});

// === üíæ Cargar nombres almacenados ===
window.addEventListener('load', () => {
  const savedNames = localStorage.getItem('studentNames');
  if (savedNames) {
    studentNamesInput.value = savedNames;
  }
});

// === üíæ Guardar nombres autom√°ticamente ===
studentNamesInput.addEventListener('input', () => {
  localStorage.setItem('studentNames', studentNamesInput.value.trim());
});

// === üîÄ Elegir un nombre al azar directamente desde el √°rea de texto ===
pickRandomStudentButton.addEventListener('click', () => {
  const inputText = studentNamesInput.value.trim();

  if (inputText !== '') {
    const studentNames = inputText
      .split('\n')
      .map(name => name.trim())
      .filter(name => name.length > 0);

    if (studentNames.length > 0) {
      const randomIndex = Math.floor(Math.random() * studentNames.length);
      const randomStudent = studentNames[randomIndex];

      // Animaci√≥n de selecci√≥n
      randomStudentResult.style.transform = 'scale(1.3)';
      randomStudentResult.style.color = '#02f6fa';
      randomStudentResult.textContent = `üéØ ${randomStudent}`;

      setTimeout(() => {
        randomStudentResult.style.transform = 'scale(1)';
        randomStudentResult.style.color = '#f9e104';
      }, 600);
    } else {
      randomStudentResult.textContent = '‚ö†Ô∏è Escribe al menos un nombre.';
    }
  } else {
    randomStudentResult.textContent = '‚ö†Ô∏è Escribe al menos un nombre.';
  }
});


studentPopupHeader.addEventListener('mousedown', (e) => {
  isDragging = true;
  offsetX = e.clientX - studentPopup.offsetLeft;
  offsetY = e.clientY - studentPopup.offsetTop;
  studentPopup.style.cursor = 'grabbing';
});

document.addEventListener('mouseup', () => {
  isDragging = false;
  studentPopup.style.cursor = 'default';
});

document.addEventListener('mousemove', (e) => {
  if (isDragging) {
    studentPopup.style.left = `${e.clientX - offsetX}px`;
    studentPopup.style.top = `${e.clientY - offsetY}px`;
  }
});






/* ===========================================================
   ‚è±Ô∏è SECCI√ìN 11: CRON√ìMETRO (Timer)
=========================================================== */
function startTimer() {
    const timerButton = document.getElementById('startTimer');
    const resetButton = document.getElementById('resetTimer');
    const pauseButton = document.getElementById('pauseTimer');
    const timerInput = document.getElementById('timerInput');
    const timerDisplay = document.getElementById('timer');
    const minutesDisplay = document.getElementById('minutes');
    const secondsDisplay = document.getElementById('seconds');
    const timerSound = document.getElementById('timerSound');
    let countdown, remainingTime = 0, isPaused = false;

    function updateDisplay() {
        const m = Math.floor(remainingTime / 60);
        const s = remainingTime % 60;
        minutesDisplay.textContent = m.toString().padStart(2, '0');
        secondsDisplay.textContent = s.toString().padStart(2, '0');
    }

    timerButton.addEventListener('click', () => {
        const newTime = parseInt(timerInput.value);
        if (isNaN(newTime) || newTime <= 0) return;
        remainingTime = newTime; updateDisplay();
        timerDisplay.style.display = 'block';
        clearInterval(countdown);
        countdown = setInterval(() => {
            if (!isPaused && remainingTime > 0) {
                remainingTime--; updateDisplay();
            } else if (remainingTime <= 0) {
                clearInterval(countdown);
                updateDisplay(); timerSound.play(); alert('¬°Tiempo agotado!');
            }
        }, 1000);
    });
    pauseButton.addEventListener('click', () => { isPaused = !isPaused; });
    resetButton.addEventListener('click', () => {
        clearInterval(countdown); remainingTime = 0;
        updateDisplay(); timerInput.value = '';
    });
}
window.onload = function () { startTimer(); };

/* ===========================================================
   ü™ü SECCI√ìN 12: PANTALLA COMPLETA
=========================================================== */
let savedState = null;
function saveImageState() {
    savedState = { images: images.slice(), currentImageIndex };
}
function restoreImageState() {
    if (savedState) {
        images = savedState.images.slice();
        currentImageIndex = savedState.currentImageIndex;
        loadNewImage(images[currentImageIndex]);
    }
}
function toggleFullScreen() {
    saveImageState();
    const element = document.documentElement;
    if (document.fullscreenElement) document.exitFullscreen();
    else element.requestFullscreen();
}
document.addEventListener('fullscreenchange', restoreImageState);

/* ===========================================================
   üïí SECCI√ìN 13: ARRASTRAR TIMER
=========================================================== */
let isDragging = false, offsetX, offsetY;
const timer = document.getElementById("timer");
timer.addEventListener("mousedown", (e) => {
    isDragging = true;
    offsetX = e.clientX - timer.getBoundingClientRect().left;
    offsetY = e.clientY - timer.getBoundingClientRect().top;
    timer.style.cursor = "grabbing";
});
document.addEventListener("mousemove", (e) => {
    if (isDragging) {
        timer.style.left = (e.clientX - offsetX) + "px";
        timer.style.top = (e.clientY - offsetY) + "px";
    }
});
document.addEventListener("mouseup", () => {
    isDragging = false;
    timer.style.cursor = "grab";
});

/* ===========================================================
   üìÅ SECCI√ìN 14: FONDOS DE PANTALLA
=========================================================== */
let imagenesDeFondo = [], indiceImagenActual = 0;
function cargarImagenesDeFondo(event) {
    imagenesDeFondo = [];
    for (const file of event.target.files) {
        const reader = new FileReader();
        reader.onload = (e) => imagenesDeFondo.push(e.target.result);
        reader.readAsDataURL(file);
    }
    mostrarImagenDeFondo();
}
function mostrarImagenDeFondo() {
    if (imagenesDeFondo.length > 0)
        document.body.style.backgroundImage = `url('${imagenesDeFondo[indiceImagenActual]}')`;
}
function navegarAnterior() {
    if (imagenesDeFondo.length > 0) {
        indiceImagenActual = (imagenesDeFondo.length + indiceImagenActual - 1) % imagenesDeFondo.length;
        mostrarImagenDeFondo();
    }
}
function navegarSiguiente() {
    if (imagenesDeFondo.length > 0) {
        indiceImagenActual = (indiceImagenActual + 1) % imagenesDeFondo.length;
        mostrarImagenDeFondo();
    }
}
function resetearFondo() {
    document.body.style.backgroundImage = '';
    diapositivas = []; indiceDiapositivaActual = 0;
}

/* ===========================================================
   üìÑ SECCI√ìN 15: FUNCIONES PDF
=========================================================== */
let isResizing = false, initialMouseX, initialMouseY, initialWidth, initialHeight, isDraggingPDF = false;
function abrirSubidaPDF() { document.getElementById('pdfInput').click(); }
document.getElementById('pdfInput').addEventListener('change', (event) => {
    const file = event.target.files[0];
    if (file && file.type === 'application/pdf') mostrarPDF(file);
});
function mostrarPDF(pdfFile) {
    const pdfViewer = document.getElementById('pdfViewer');
    const pdfFrame = document.getElementById('pdfFrame');
    pdfFrame.src = URL.createObjectURL(pdfFile);
    pdfViewer.style.display = 'block';
    document.addEventListener('mousemove', handleDrag);
    document.addEventListener('mouseup', () => { isDraggingPDF = false; isResizing = false; });
}
function cerrarPDF() {
    const pdfViewer = document.getElementById('pdfViewer');
    const pdfFrame = document.getElementById('pdfFrame');
    pdfFrame.src = ''; pdfViewer.style.display = 'none';
    document.removeEventListener('mousemove', handleDrag);
}
function handleDrag(e) {
    const pdfViewer = document.getElementById('pdfViewer');
    if (isDraggingPDF) {
        pdfViewer.style.left = e.clientX - initialMouseX + 'px';
        pdfViewer.style.top = e.clientY - initialMouseY + 'px';
    }
    if (isResizing) {
        const newWidth = initialWidth + (e.clientX - initialMouseX);
        const newHeight = initialHeight + (e.clientY - initialMouseY);
        pdfViewer.style.width = newWidth + 'px';
        pdfViewer.style.height = newHeight + 'px';
    }
}
document.getElementById('pdfViewerTitle').addEventListener('mousedown', (e) => {
    isDraggingPDF = true;
    const pdfViewer = document.getElementById('pdfViewer');
    initialMouseX = e.clientX - parseFloat(getComputedStyle(pdfViewer).left);
    initialMouseY = e.clientY - parseFloat(getComputedStyle(pdfViewer).top);
});
document.getElementById('resizeCorner').addEventListener('mousedown', (e) => {
    const pdfViewer = document.getElementById('pdfViewer');
    isResizing = true;
    initialMouseX = e.clientX; initialMouseY = e.clientY;
    initialWidth = pdfViewer.offsetWidth; initialHeight = pdfViewer.offsetHeight;
});

/* ===========================================================
   ‚úÖ FIN DEL SCRIPT
=========================================================== */
</script>



</body>
</html>
