<!DOCTYPE html>
<html>
<head>

    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CALCULADORA AMBIENTAL</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <h1>CALCULADORA AMBIENTAL</h1><br><br>

  <label class="conteo-reciclaje" for="cantidad_latas">Cantidad de latas de aluminio:</label><br>
  <input type="number" id="cantidad_latas" placeholder="0"><br><br>

  <label class="conteo-reciclaje" for="cantidad_cuadernos">Cantidad de cuadernos:</label><br>
  <input type="number" id="cantidad_cuadernos" placeholder="0"><br><br>

  <label class="conteo-reciclaje" for="cantidad_botellas">Cantidad de botellas plásticas:</label><br>
  <input type="number" id="cantidad_botellas" placeholder="0"><br><br>

  <!-- BOTONES DE CALCULAR Y REINICIAR -->
  <span class="BOTONES"><button onclick="calcularImpacto()">Calcular Impacto</button><button onclick="reiniciarCalculadora()">Reiniciar</button></span><br><br> 

  <h2 class="hidden">Impacto de tu reciclaje:</h2>

  <div class="hidden">
    <!-- TABLA CONSUMO DE RECURSOS -->
    <table>
      <tr>
        <th class="consumo">Tipo de Material Reciclable</th>
        <th class="consumo">Energía (kWh)</th>
        <th class="consumo">Agua (litros)</th>
        <th class="consumo">Emisiones de CO2 (kg)</th>
      </tr>
      <tr>
        <td>Lata de Aluminio</td>
        <td><span id="lata_energia">0.00</span> kWh</td>
        <td><span id="lata_agua">0.00</span> litros</td>
        <td><span id="lata_co2">0.00</span> kg</td>
      </tr>
      <tr>
        <td>Cuaderno (100 hojas)</td>
        <td><span id="cuaderno_energia">0.00</span> kWh</td>
        <td><span id="cuaderno_agua">0.00</span> litros</td>
        <td><span id="cuaderno_co2">0.00</span> kg</td>
      </tr>
      <tr>
        <td>Botella Plástica</td>
        <td><span id="botella_energia">0.00</span> kWh</td>
        <td><span id="botella_agua">0.00</span> litros</td>
        <td><span id="botella_co2">0.00</span> kg</td>
      </tr>
      <tr>
        <td><strong>Total</strong></td>
        <td><strong><span id="total_energia">0.00</span> kWh</strong></td>
        <td><strong><span id="total_agua">0.00</span> litros</strong></td>
        <td><strong><span id="total_co2">0.00</span> kg</strong></td>
      </tr>
    </table><br>

    <p id="huella_ecologica">
      <strong class="titulo-strong">Tu Huella Ecológica:</strong>
      <span id="resultado_hectareas" class="resultado-span">0.00</span>
      <strong class="titulo-strong">Hectáreas Globales</strong><br><br>
    </p>
    
    <!-- Gráfico de Barras -->
    <canvas id="grafico"></canvas>
  </div>

  <script>
    // Función para calcular el impacto
    function calcularImpacto() {
      var cantidadLatas = parseFloat(document.getElementById("cantidad_latas").value);
      var cantidadCuadernos = parseFloat(document.getElementById("cantidad_cuadernos").value);
      var cantidadBotellas = parseFloat(document.getElementById("cantidad_botellas").value);

      // Realiza cálculos para la energía, agua y CO2 aquí

      // Actualiza los valores en la tabla
      document.getElementById("lata_energia").textContent = calculoEnergiaLatas.toFixed(2);
      document.getElementById("lata_agua").textContent = calculoAguaLatas.toFixed(2);
      document.getElementById("lata_co2").textContent = calculoCO2Latas.toFixed(2);

      document.getElementById("cuaderno_energia").textContent = calculoEnergiaCuadernos.toFixed(2);
      document.getElementById("cuaderno_agua").textContent = calculoAguaCuadernos.toFixed(2);
      document.getElementById("cuaderno_co2").textContent = calculoCO2Cuadernos.toFixed(2);

      document.getElementById("botella_energia").textContent = calculoEnergiaBotellas.toFixed(2);
      document.getElementById("botella_agua").textContent = calculoAguaBotellas.toFixed(2);
      document.getElementById("botella_co2").textContent = calculoCO2Botellas.toFixed(2);

      document.getElementById("total_energia").textContent = (calculoEnergiaLatas + calculoEnergiaCuadernos + calculoEnergiaBotellas).toFixed(2);
      document.getElementById("total_agua").textContent = (calculoAguaLatas + calculoAguaCuadernos + calculoAguaBotellas).toFixed(2);
      document.getElementById("total_co2").textContent = (calculoCO2Latas + calculoCO2Cuadernos + calculoCO2Botellas).toFixed(2);

      // Actualiza el gráfico de barras
      actualizarGrafico();
    }

    // Función para reiniciar la calculadora
    function reiniciarCalculadora() {
      // Reiniciar los valores y ocultar el gráfico si es necesario.
      document.getElementById("cantidad_latas").value = "";
      document.getElementById("cantidad_cuadernos").value = "";
      document.getElementById("cantidad_botellas").value = "";

      // Reiniciar los valores en la tabla
      document.getElementById("lata_energia").textContent = "0.00";
      document.getElementById("lata_agua").textContent = "0.00";
      document.getElementById("lata_co2").textContent = "0.00";

      document.getElementById("cuaderno_energia").textContent = "0.00";
      document.getElementById("cuaderno_agua").textContent = "0.00";
      document.getElementById("cuaderno_co2").textContent = "0.00";

      document.getElementById("botella_energia").textContent = "0.00";
      document.getElementById("botella_agua").textContent = "0.00";
      document.getElementById("botella_co2").textContent = "0.00";

      document.getElementById("total_energia").textContent = "0.00";
      document.getElementById("total_agua").textContent = "0.00";
      document.getElementById("total_co2").textContent = "0.00";

      // Ocultar el gráfico
      document.getElementById("grafico").style.display = "none";
    }

    // Función para actualizar el gráfico de barras
    function actualizarGrafico() {
      // Obten los valores actualizados de las variables, como lata_energia, cuaderno_energia, botella_energia.
      var lata_energia = parseFloat(document.getElementById("lata_energia").textContent);
      var cuaderno_energia = parseFloat(document.getElementById("cuaderno_energia").textContent);
      var botella_energia = parseFloat(document.getElementById("botella_energia").textContent);

      // Crear un array de valores para el gráfico
      var valores = [lata_energia, cuaderno_energia, botella_energia];

      // Obtener el canvas y crear el gráfico
      var ctx = document.getElementById("grafico").getContext("2d");
      var myChart = new Chart(ctx, {
        type: "bar", // Tipo de gráfico de barras
        data: {
          labels: ["Lata de Aluminio", "Cuaderno (100 hojas)", "Botella Plástica"],
          datasets: [{
            label: "Energía (kWh)",
            data: valores,
            backgroundColor: [
              "rgba(255, 99, 132, 0.2)",
              "rgba(54, 162, 235, 0.2)",
              "rgba(255, 206, 86, 0.2)"
            ],
            borderColor: [
              "rgba(255, 99, 132, 1)",
              "rgba(54, 162, 235, 1)",
              "rgba(255, 206, 86, 1)"
            ],
            borderWidth: 1
          }]
        },
        options: {
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      });

      // Mostrar el gráfico
      document.getElementById("grafico").style.display = "block";
    }
  </script>
</body>
</html>
