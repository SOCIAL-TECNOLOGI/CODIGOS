<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Calculadora Ambiental</title>
    <style>

@media (max-width: 768px) {
    body {
        font-size: 16px; /* Tamaño de fuente más grande en pantallas pequeñas */
    }
}

        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }

        h1 {
            color: #007acc;
        }

        form {
            margin: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            border-radius: 5px;
        }

        label {
            font-weight: bold;
            margin-right: 10px;
        }

        input {
            width: 100px;
            padding: 5px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }

        button {
            background-color: #007acc;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #005aa7;
        }

        #resultado {
            font-weight: bold;
            color: #007acc;
            margin-top: 20px;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 20px;
        }

        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: center;
        }

        th {
            background-color: #007acc;
            color: #fff;
        }

       /* Estilo para el encabezado h2 */
       h2 {
            color:  #052eb3; /* Cambia el color a tu preferencia */
            font-size: 24px; /* Cambia el tamaño de fuente a tu preferencia */
        }

        /* Estilo para el párrafo con el id "resultado" */
        #resultado {
            font-weight: bold; /* Cambia la negrita a tu preferencia */
            color: #008000; /* Cambia el color a tu preferencia */
            font-size: 20px; /* Cambia el tamaño de fuente a tu preferencia */
        }


        /* Estilos CSS omitidos para mantener el código más limpio */

        #recomendaciones {
            display: none;
        }
/* Estilo para los comentarios */
.comentario {
        font-style: italic;
        color: #006400; /* Color verde para destacar los comentarios */
        font-weight: bold;
    }

    /* Estilo para la tabla */
    table {
        border-collapse: collapse;
        width: 100%;
        margin-top: 20px;
    }

    th, td {
        border: 1px solid #ccc;
        padding: 8px;
        text-align: center;
    }

    th {
        background-color: #007acc;
        color: #fff;
    }
    #contenedor-imagenes {
    text-align: center;
    margin: 20px;
}

#contenedor-imagenes img {
    width: 200px; /* Ajusta el tamaño de las imágenes según tus preferencias */
    margin: 10px;
}

#contenedor-imagenes p {
    font-size: 16px;
    color: #333;
    margin-top: 10px;
}

#contenedor-videos {
    text-align: center;
    margin: 20px;
}

#contenedor-videos iframe {
    width: 100%; /* Ajusta el ancho del video según tus preferencias */
    max-width: 200px; /* Define un ancho máximo para mantener el diseño responsivo */
    height: auto; /* Ajusta la altura automáticamente según la relación de aspecto del video */
}

.boton {
    display: inline-block;
    padding: 10px 20px;
    background-color: #007acc;
    color: #fff;
    text-decoration: none;
    border: none;
    border-radius: 60px;
    cursor: pointer;
    font-weight: bold;
}

.boton:hover {
    background-color: #046b49;
}


    </style>
</head>
<body>
    <h1>Calculadora Ambiental</h1>

    <form id="calculadoraForm">
        <label for="consumoEnergia">Consumo de energía (kWh):</label>
        <input type="number" id="consumoEnergia" name="consumoEnergia" step="0.01">
        <br>

        <label for="consumoAgua">Consumo de agua (litros):</label>
        <input type="number" id="consumoAgua" name="consumoAgua" step="1">
        <br>

        <label for="emisionesCO2">Emisiones de CO2 (kg):</label>
        <input type="number" id="emisionesCO2" name="emisionesCO2" step="0.01">
        <br>

        <label for="kilometrosCoche">Kilómetros conducidos en coche:</label>
        <input type="number" id="kilometrosCoche" name="kilometrosCoche" step="0.1">
        <br>

        <button type="button" onclick="calcularHuella()">Calcular</button>
        <button type="button" onclick="resetCalculadora()">Reiniciar</button>
        
    </form>

    <h2>Impacto Ambiental</h2>
    <p id="resultado"></p>

    <table>
        <thead>
            <tr>
                <th>Consumo de energía (kWh)</th>
                <th>Consumo de agua (litros)</th>
                <th>Emisiones de CO2 (kg)</th>
                <th>Kilómetros conducidos en coche</th>
            </tr>

        </thead>

        <div id="contenedor-imagenes">
            <img src="imagen1.jpg" alt="Imagen 1">
            <img src="imagen2.jpg" alt="Imagen 2">
            <img src="imagen3.jpg" alt="Imagen 3">
            <img src="imagen4.jpg" alt="Imagen 4">
            <p>Texto descriptivo sobre las imágenes.</p>
        </div>

        <div id="contenedor-videos">
            <iframe width="150" height="85" src="https://www.youtube.com/embed/TUVideoID" frameborder="0" allowfullscreen></iframe>
            <iframe width="150" height="85" src="https://www.youtube.com/embed/TUVideoID" frameborder="0" allowfullscreen></iframe>
           
            <!-- Repite este bloque iframe para más vídeos si es necesario -->
        </div>
        
        <a href="https://www.ejemplo.com" target="_blank" class="boton">Visitar Sitio</a>



        <tbody>
            <!-- Aquí se insertarán los datos desde el archivo Excel -->


        </tbody>
    </table>

    <script>

        
// Obtener el elemento de recomendaciones
const recomendaciones = document.getElementById('recomendaciones')
        
       // Factores de equivalencia (ejemplo)
const factorEnergia = 0.2; // Ejemplo: 1 kWh = 0.2 hectáreas globales
const factorAgua = 0.5;   // Ejemplo: 1 litro = 0.5 hectáreas globales
const factorCO2 = 2;      // Ejemplo: 1 kg de CO2 = 2 hectáreas globales
const factorCoche = 1;    // Ejemplo: 1 kilómetro en coche = 1 hectárea global

// Variable para mantener un seguimiento de si se ha agregado una fila a la tabla
let filaAgregada = false;

function calcularHuella() {
    // Obtener los valores de entrada
    const consumoEnergia = parseFloat(document.getElementById('consumoEnergia').value) || 0;
    const consumoAgua = parseFloat(document.getElementById('consumoAgua').value) || 0;
    const emisionesCO2 = parseFloat(document.getElementById('emisionesCO2').value) || 0;
    const kilometrosCoche = parseFloat(document.getElementById('kilometrosCoche').value) || 0;
    
    // Calcular la huella ecológica utilizando factores de equivalencia
    const huellaEnergia = consumoEnergia * factorEnergia;
    const huellaAgua = consumoAgua * factorAgua;
    const huellaCO2 = emisionesCO2 * factorCO2;
    const huellaCoche = kilometrosCoche * factorCoche;


    // Calcular los comentarios
   const comentarioEnergia = 'Reduce el consumo de Energía (kWh) - Usa Energía Renovable: Cambia a fuentes de energía renovable, como la energía solar o eólica, para reducir la dependencia de combustibles fósiles. - Aplica la Eficiencia Energética: Mejora la eficiencia energética en tu hogar o negocio. Utiliza bombillas LED, electrodomésticos eficientes y aísla bien tu vivienda.';
   const comentarioAgua = 'Reduce el consumo de Agua (Litros) - Reutilizar y Reciclar: Utiliza sistemas de reciclaje de agua para reutilizar el agua de lluvia y aguas grises para finos no potables, como el riego del jardín. - Arreglar Fugas: Repara las fugas de agua en tuberías y grifos, ya que las fugas desperdician grandes cantidades de agua';
   const comentarioCO2 = 'Reduce las emisiones de C02 (Kg) - Transporte Sostenible: Opta por el transporte público, carpooling o usa vehículos eléctricos para reducir las emisiones de CO2 relacionadas con el transporte. - Reducir Uso de Combustibles Fósiles: Disminuye tu dependencia de combustibles fósiles, como la gasolina, y considera utilizar vehículos más eficientes en términos de consumo de combustible.';
   const comentarioCoche = 'Kilómetros Conducidos en Coche - Fomenta el teletrabajo: Si es posible, negocia la opción de trabajar desde casa algunos días a la semana para reducir tus desplazamientos. - Promueve el transporte compartido: Únete a programas de carpooling o ridesharing para compartir el viaje con otros y reducir la cantidad de vehículos en la carretera.';

    // Sumar todas las huellas
    const calculoHuella = huellaEnergia + huellaAgua + huellaCO2 + huellaCoche;

    // Mostrar el resultado en el elemento "resultado"
    const resultado = document.getElementById('resultado');
    resultado.textContent = 'Tu huella ambiental es: ' + calculoHuella.toFixed(2) + ' hectáreas globales';


    if (!filaAgregada) {
        // Si no se ha agregado una fila, agregar una nueva fila a la tabla
        const tabla = document.querySelector('table tbody');
        const tr = document.createElement('tr');
        const td1 = document.createElement('td');
        const td2 = document.createElement('td');
        const td3 = document.createElement('td');
        const td4 = document.createElement('td');

        td1.textContent = consumoEnergia;
        td2.textContent = consumoAgua;
        td3.textContent = emisionesCO2;
        td4.textContent = kilometrosCoche;

        tr.appendChild(td1);
        tr.appendChild(td2);
        tr.appendChild(td3);
        tr.appendChild(td4);

        tabla.appendChild(tr);
    
 // Crear un nuevo tr para los comentarios
 const trComentarios = document.createElement('tr');

// Crear elementos td para los comentarios
const tdComentarioEnergia = document.createElement('td');
const tdComentarioAgua = document.createElement('td');
const tdComentarioCO2 = document.createElement('td');
const tdComentarioCoche = document.createElement('td');

 // Establecer el contenido de los comentarios
 tdComentarioEnergia.textContent = comentarioEnergia;
    tdComentarioAgua.textContent = comentarioAgua;
    tdComentarioCO2.textContent = comentarioCO2;
    tdComentarioCoche.textContent = comentarioCoche;

     // Agregar los comentarios a la fila de comentarios
     trComentarios.appendChild(tdComentarioEnergia);
    trComentarios.appendChild(tdComentarioAgua);
    trComentarios.appendChild(tdComentarioCO2);
    trComentarios.appendChild(tdComentarioCoche);

    // Agregar la fila de comentarios debajo de la fila de valores
    tabla.appendChild(trComentarios);
    filaAgregada = true;
}


        // Mostrar las recomendaciones
const recomendacionesDiv = document.getElementById('recomendacionesDiv');
        recomendacionesDiv.style.display = 'block'

        // Si ya existe una fila, actualizar los valores de esa fila
        const tabla = document.querySelector('table tbody');
        const primeraFila = tabla.querySelector('tr'); // Suponemos que solo hay una fila
        primeraFila.children[0].textContent = consumoEnergia;
        primeraFila.children[1].textContent = consumoAgua;
        primeraFila.children[2].textContent = emisionesCO2;
        primeraFila.children[3].textContent = kilometrosCoche;
    }

    if (filaAgregada) {
    const tabla = document.querySelector('table tbody');
    const primeraFila = tabla.querySelector('tr');
    const segundaFila = tabla.querySelector('tr:nth-child(2)'); // La fila de comentarios

    tabla.removeChild(primeraFila);
    tabla.removeChild(segundaFila);

    filaAgregada = false;
}


function resetCalculadora() {
    // Restablecer los campos del formulario a sus valores iniciales
    document.getElementById('consumoEnergia').value = "";
    document.getElementById('consumoAgua').value = "";
    document.getElementById('emisionesCO2').value = "";
    document.getElementById('kilometrosCoche').value = "";

    // También, reiniciar el resultado
    document.getElementById('resultado').textContent = '';

    // Limpiar la tabla eliminando todas las filas
    const tabla = document.querySelector('table tbody');
    tabla.innerHTML = '';

    filaAgregada = false; // Reiniciar el estado de la fila agregada


// También, reiniciar el resultado y los comentarios
document.getElementById('resultado').textContent = '';

if (filaAgregada) {
    const tabla = document.querySelector('table tbody');
    const primeraFila = tabla.querySelector('tr');
    tabla.removeChild(primeraFila);
    filaAgregada = false;
}

// Función para cargar y mostrar datos desde el archivo CSV
function cargarDatosDesdeCSV() {
    // Ruta al archivo CSV
    const archivoCSV = 'datos.csv';

    // Obtener la tabla
    const tabla = document.querySelector('table tbody');

    // Crear una instancia del objeto XMLHttpRequest
    const xhr = new XMLHttpRequest();

    // Configurar la solicitud GET para el archivo CSV
    xhr.open('GET', archivoCSV, true);

    // Definir el manejador de eventos para la carga exitosa de datos
    xhr.onload = function() {
        if (xhr.status === 200) {
            const filas = xhr.responseText.trim().split('\n');

            // Recorrer las filas y agregar datos a la tabla
            for (const fila of filas) {
                const datos = fila.split(',');
                if (datos.length === 4) {
                    const tr = document.createElement('tr');
                    for (const dato of datos) {
                        const td = document.createElement('td');
                        td.textContent = dato;
                        tr.appendChild(td);
                    }
                    tabla.appendChild(tr);
                }
            }
        } else {
            console.error('Error al cargar el archivo CSV.');
        }
    };

    // Enviar la solicitud
    xhr.send();
}
}
// Llama a la función para cargar datos desde el archivo CSV
cargarDatosDesdeCSV();

// Agregar los comentarios a la fila de comentarios
trComentarios.appendChild(tdComentarioEnergia);
trComentarios.appendChild(tdComentarioAgua);
trComentarios.appendChild(tdComentarioCO2);
trComentarios.appendChild(tdComentarioCoche);

// Aplicar la clase de estilo a los comentarios
tdComentarioEnergia.classList.add('comentario');
tdComentarioAgua.classList.add('comentario');
tdComentarioCO2.classList.add('comentario');
tdComentarioCoche.classList.add('comentario');


    </script>
</body>
</html>